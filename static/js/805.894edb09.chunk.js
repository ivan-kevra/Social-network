"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[805],{2760:function(t,s,n){n.d(s,{I:function(){return p},g:function(){return c}});var r=n(8489),e=n(3738),o="style_formControl__pl+pQ",u="style_error__Lstpm",i=n(184),a=["item","onBlur"],l=function(t){var s=t.item,n=t.onBlur,r=t.children,e=s&&n;return(0,i.jsxs)("div",{className:"".concat(o," ").concat(e?u:""),children:[(0,i.jsx)("div",{children:r}),e&&(0,i.jsx)("span",{children:s})]})},c=function(t){var s=t.item,n=t.onBlur,o=(0,e.Z)(t,a);return(0,i.jsx)(l,{item:s,onBlur:n,children:(0,i.jsx)("textarea",(0,r.Z)((0,r.Z)({},o),{},{onBlur:n}))})},p=function(t){return(0,i.jsx)(l,{item:t.item,onBlur:t.onBlur,children:(0,i.jsx)("input",(0,r.Z)((0,r.Z)({},t),{},{onBlur:t.onBlur}))})}},5805:function(t,s,n){n.r(s),n.d(s,{default:function(){return q}});var r=n(8489),e=n(7853),o=n(4531),u=n(1020),i=n(2301),a=n(2791),l="Profile_content__SbT+x",c=n(5844),p=n(678),d=n(184),f=function(t){var s=(0,a.useState)(!1),n=(0,p.Z)(s,2),r=n[0],e=n[1],o=(0,a.useState)(t.status),u=(0,p.Z)(o,2),i=u[0],l=u[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,d.jsx)("div",{children:r?(0,d.jsx)("input",{onBlur:function(){e(!1),t.updateStatus(i)},value:i,autoFocus:!0,onChange:function(t){l(t.currentTarget.value)}}):(0,d.jsx)("span",{onDoubleClick:function(){e(!0)},children:i||"no status"})})},h=function(t){var s=t.profileInfo,n=t.status,r=t.updateStatus;return s?(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:s.photos.large,alt:"photo"}),(0,d.jsxs)("span",{children:[" ",s.fullName]}),(0,d.jsxs)("span",{children:[" ",s.lookingForAJobDescription]}),(0,d.jsx)(f,{status:n,updateStatus:r})]}):(0,d.jsx)(c.p,{})},m=n(81),v=n(1303),j={},x="Post_post__b0D+1",g=function(t){return(0,d.jsxs)("div",{className:x,children:[(0,d.jsx)("img",{alt:"photo",src:"https://www.shutterstock.com/shutterstock/photos/1606423033/display_1500/stock-vector-portrait-of-a-happy-man-avatar-of-a-guy-for-social-network-colorful-portrait-student-of-the-1606423033.jpg"}),(0,d.jsx)("div",{children:t.message}),(0,d.jsx)("div",{children:t.likesCount})]})},Z=n(5705),k=n(6151),S=n(3079),y=n(2760),_=a.memo((function(t){var s=(0,v.Z)(t.posts).reverse().map((function(t){return(0,d.jsx)(g,{message:t.postMessage,likesCount:t.likesCount},t.id)}));return(0,d.jsxs)("div",{children:["My posts",(0,d.jsx)(w,{addPostHandler:function(s){t.addPost(s.post)}}),(0,d.jsx)("div",{children:" New Post"}),(0,d.jsx)("div",{className:j.posts,children:s})]})})),w=function(t){var s=(0,Z.TA)({initialValues:{post:""},validate:function(t){return(0,S.uc)(10,t)},onSubmit:function(s){console.log(s),t.addPostHandler(s)}});return(0,d.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,d.jsx)(y.g,(0,r.Z)((0,r.Z)({},s.getFieldProps("post")),{},{onBlur:s.handleBlur,item:s.errors.post})),(0,d.jsx)(k.Z,{type:"submit",variant:"contained",color:"primary",children:"Send"})]})},P=n(8687),b=(0,P.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,m.q2)(s))}}}))(_),B=function(t){return(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)(h,{profileInfo:t.profileInfo,status:t.status,updateStatus:t.updateStatus}),(0,d.jsx)(b,{})]})},C=n(7689),A=n(2163),I=n(1666),N=function(t){(0,u.Z)(n,t);var s=(0,i.Z)(n);function n(){return(0,e.Z)(this,n),s.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,d.jsx)(B,(0,r.Z)((0,r.Z)({},this.props),{},{profileInfo:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(a.Component);var q=(0,I.qC)((0,P.$j)((function(t){return{profile:t.profilePage.profileInfo,status:t.profilePage.status,authorizedUserId:t.app.id,isAuth:t.app.isAuth}}),{getUserProfile:m.et,getStatus:m.lR,updateStatus:m.Nf}),(function(t){return function(s){var n=(0,C.TH)(),e=(0,C.s0)(),o=(0,C.UO)();return(0,d.jsx)(t,(0,r.Z)((0,r.Z)({},s),{},{router:{location:n,navigate:e,params:o}}))}}),A.e)(N)},2163:function(t,s,n){n.d(s,{e:function(){return f}});var r=n(8489),e=n(7853),o=n(4531),u=n(1020),i=n(2301),a=n(7689),l=n(2791),c=n(8687),p=n(184),d=function(t){return{isAuth:t.app.isAuth}},f=function(t){var s=function(s){(0,u.Z)(l,s);var n=(0,i.Z)(l);function l(){return(0,e.Z)(this,l),n.apply(this,arguments)}return(0,o.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,r.Z)({},this.props)):(0,p.jsx)(a.Fg,{to:"/login"})}}]),l}(l.Component);return(0,c.$j)(d)(s)}},3079:function(t,s,n){n.d(s,{a5:function(){return r},lN:function(){return o},uc:function(){return e}});var r=function(t){var s={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(s.email="Invalid email address"):s.email="Required",t.password?t.password.length<3&&(s.password="Password too short"):s.password="Required",s},e=function(t,s){var n={};return s.post?s.post.length>t&&(n.post="Max length is ".concat(t," symbols")):n.post="Required",n},o=function(t,s){var n={};return s.message?s.message.length>t&&(n.message="Max length is ".concat(t," symbols")):n.message="Required",n}}}]);
//# sourceMappingURL=805.894edb09.chunk.js.map